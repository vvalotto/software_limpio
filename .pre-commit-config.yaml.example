# Ejemplo de configuración de pre-commit para proyectos que usen CodeGuard
# https://pre-commit.com/
#
# Copia este archivo a .pre-commit-config.yaml y ajusta según tus necesidades
#
# Instalación:
#   pip install pre-commit
#   pre-commit install
#
# Uso:
#   pre-commit run --all-files  # Ejecutar manualmente todos los hooks
#   git commit                  # Los hooks se ejecutan automáticamente

repos:
  # CodeGuard - Control de calidad para Python
  - repo: https://github.com/vvalotto/software_limpio
    rev: v0.1.0  # Usar la última versión disponible
    hooks:
      # Análisis rápido en cada commit (< 5s)
      - id: codeguard
        name: CodeGuard Quality Check
        args: ['--format', 'text']

      # Análisis completo antes de push (opcional)
      # - id: codeguard-pr
      #   name: CodeGuard PR Review
      #   stages: [push]

  # Black - Formateo automático de código
  - repo: https://github.com/psf/black
    rev: 24.1.1
    hooks:
      - id: black
        args: [--line-length=100]
        language_version: python3.11

  # isort - Ordenar imports
  - repo: https://github.com/pycqa/isort
    rev: 5.13.2
    hooks:
      - id: isort
        args: [--profile, black, --line-length=100]

  # Hooks básicos de pre-commit
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.5.0
    hooks:
      - id: trailing-whitespace
      - id: end-of-file-fixer
      - id: check-yaml
      - id: check-added-large-files
        args: [--maxkb=500]
      - id: check-merge-conflict
      - id: detect-private-key

# Configuración alternativa - Solo CodeGuard (mínima)
# repos:
#   - repo: https://github.com/vvalotto/software_limpio
#     rev: v0.1.0
#     hooks:
#       - id: codeguard

# Configuración alternativa - CodeGuard local (para desarrollo)
# repos:
#   - repo: local
#     hooks:
#       - id: codeguard
#         name: CodeGuard Quality Check
#         entry: codeguard
#         language: system
#         types: [python]
#         args: ['--analysis-type', 'pre-commit', '--format', 'text']
#         pass_filenames: false
